林 先生/女士 您好

感謝您聯繫 Synology 支援。

 

我們想確認您是否已在新建立的儲存空間上建立對應的「共用資料夾」。若您尚未在新建立的儲存空間中新增共用資料夾，則在 Hyper Backup 備份過程中，將無法選擇新的儲存空間。請參考下圖，在File Station 中建立新的共用資料夾，並在「所在位置」欄位中選擇新建的儲存空間。


若您已透過 Hyper Backup 完成備份並將資料備份在舊的儲存空間中，則無法僅透過變更設定將已完成備份的「備份資料」搬移到所需的目的地。請注意，當您在備份目的地看到 *.hbk 的檔案時，即為備份資料（如下圖）。


您可以透過以下方法之一，完成您原先的備份需求：

複製您完成的備份檔 *.hbk 到您新建的儲存空間，然後刪除原本舊儲存空間的 *.hbk 目錄。再在新儲存空間中還原您的資料。
透過 Hyper Backup 重新建立一次備份任務，並執行備份。請確保這次備份的目的地位於新的儲存空間上。
小提醒：若在 Hyber Backup 設定過程中，來源端和目的地皆位於同一個儲存空間，系統將在來源端資料夾旁標示橘色驚嘆號。

 

透過 Hyper Backup 還原您的資料，由於您的情況是同一台 NAS 但不同儲存空間上進行備份與還原，因此情況較為特殊。

Hyper Backup 的還原是通過將檔案覆寫/新增到所選的同名的共用資料夾來達到還原，因此如果您直接透過 Hyper Backup 還原檔案，資料並不會還原到新的儲存空間上。因此假設您備份了全部的共用資料夾（從儲存空間1 備份），並希望將其還原到儲存空間2。這裡提供您以下 2 種方案：

第一種方案

  1. 將您原本在儲存空間1 上的共用資料夾通通改名，例如下圖您需要將全部在儲存空間1 的共用資料夾都在最前面加上 backup。例如：chat -> backup_chat、docker -> backup_docker 等...以此類推。


2. 接著需重新建立所有原先存在在「儲存空間1 」上的共用資料夾，並在建立時，將其所在位置皆選擇「儲存空間2」。在還原時，若有不存在在「儲存空間2」上的共用資料夾被還原，則 Hyper Backup 將會選擇第一個可用的儲存空間，也就是「儲存空間1」，建立共用資料夾並將資料還原在其中。

  3. 使用 Hyper Backup 還原先前所備份的 儲存空間1 上的所有共用資料夾。請參考： 該如何自現有的 Hyper Backup 任務還原資料？
    a. hello
    b.yuaod
  c. hid

 

第二種方案 

1. 確認您新的儲存空間上已經建立好共用資料夾，並把備份完成的 *.hbk 複製到該共用資料夾當中。

2. 請關閉您的 NAS 並拔除您的硬碟，再重新開機。這時您應該會發現原先的儲存空間的狀態為遺失。


3. 請您到儲存管理員移除該儲存空間。由於硬碟已經移除，所有資料皆保存在硬碟中，並不會因此步驟的移除儲存空間而被刪除。 


4. 請再次重新啟動您的 NAS。

5. 登入 DSM 後到 Hyper Backup 進行還原，此時只有一個儲存空間 2 Hyper Backup 會直接在該儲存空間上建立對應的共用資料夾並將資料還原進去。詳情請參考以下連結：

若備份任務已不存在，我該如何透過 Hyper Backup 的備份檔案 (.hbk) 還原備份資料？

6. 確認還原無誤後，即可刪除 .hbk 釋放空間。

 

 

希望以上資訊對您有所幫助。如有任何問題，歡迎隨時與我們聯繫。

 

參考資料：

[1] 如何使用Hyper Backup將資料備份至本地共用資料夾或USB？- Synology 知識中心

[2] 該如何自現有的Hyper Backup任務還原資料？- Synology 知識中心

[3] HDD/SSD | DSM - Synology 知識中心

[4] 安全卸載儲存集區 | DSM - Synology 知識中心

 

群暉技術支援

Teddy Yang